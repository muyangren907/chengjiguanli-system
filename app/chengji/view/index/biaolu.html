{extend name=".././view/create.html" /}

{block name="form"}

  <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>表格录入</legend>
  </fieldset>   

  <div style="padding: 20px; background-color: #F2F2F2;">
    <div class="layui-row layui-col-space15">
      <div class="layui-col-md6">
        <div class="layui-card">
          <div class="layui-card-header">1、载成绩采集表</div>
          <div class="layui-card-body" style="min-height: 180px;">
            卡片式面板面板通常用于非白色背景色的主体内<br>
            从而映衬出边框投影
          </div>
        </div>
      </div>

      <div class="layui-col-md6">
        <div class="layui-card">
          <div class="layui-card-header">2、上传成绩</div>
          <div class="layui-card-body" style="min-height: 180px;">
            将录入好的成绩表，从这里上传。
            <div class="layui-inline">
            <div class="layui-input-inline" style="min-width: 300px">
              <input type="text" id="url" name="url" autocomplete="off" class="layui-input " placeholder="地址" readonly>
            </div>
            <div class="layui-input-inline" style="min-width: 80px">
              <button type="button" class="layui-btn" id="upload">
                <i class="layui-icon">&#xe67c;</i>选择文件
              </button>
              <button type="button" class="layui-btn layui-btn-normal">
                <i class="layui-icon">&#xe67c;</i>批传
              </button>
            </div>
            
          </div>
        </div>
      </div>


    </div>
  </div> 


{/block}

{block name="myjs"}
<script>
  // 日期控件
  layui.use(['upload'], function(){
    var upload = layui.upload;

    //执行实例
    var uploadInst = upload.render({
      elem: '#upload' //绑定元素
      ,url: "/rongyu/danwei/upload" //上传接口
      ,done: function(res){
        if(res.val == 1){
          $('#url').val(res.url);
        }else{
          layer.msg(res.msg);
        }
      }
      ,data: {
        category: '1011103'
        ,serurl:'chengji'
      }
      ,acceptMime:'.xls,.xlsx'
      ,exts:'xls|xlsx'
      ,auto:true
      ,error: function(){
        //请求异常回调
      }
    });
  });

</script>
{/block}

