{extend name=".././view/create.html" /}

{block name="form"}
    <div class="layui-form-item">
      <button type="button" class="layui-btn" id="upload">
        <i class="layui-icon">&#xe67c;</i>上传文件
      </button>
    </div>
    <form class="layui-form layui-form-pane" lay-filter="myform">
          <div class="layui-form-item">
              <label for="url" class="layui-form-label">
                  <span class="x-red">*</span>文件路径
              </label>
              <div class="layui-input-block">
                  <input type="text" id="url" name="url" lay-verify="required"
                  autocomplete="off" class="layui-input " value="{$list.data.url|default=''}" placeholder="中文2-25个字符" disabled="true">
              </div>
          </div>
          <div class="layui-form-item" style="text-align: right;">
              <button  class="layui-btn" lay-filter="mysubmit" lay-submit="">
                  {$list.set.butname}
              </button>
          </div>
      </form>

      <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>表格录入</legend>
      </fieldset>   
 
      <div style="padding: 20px; background-color: #F2F2F2;">
        <div class="layui-row layui-col-space15">
          <div class="layui-col-md6">
            <div class="layui-card">
              <div class="layui-card-header">1、载成绩采集表</div>
              <div class="layui-card-body">
                卡片式面板面板通常用于非白色背景色的主体内<br>
                从而映衬出边框投影
              </div>
            </div>
          </div>
          <div class="layui-col-md6">
            <div class="layui-card">
              <div class="layui-card-header">2、上传成绩</div>
              <div class="layui-card-body">

                <div class="layui-inline">
                <div class="layui-input-inline" style="min-width: 300px">
                  <input type="text" id="pic" name="pic" autocomplete="off" class="layui-input " placeholder="地址" readonly>
                </div>
                <div class="layui-input-inline" style="min-width: 100px">
                  <button type="button" class="layui-btn" id="upload">
                    <i class="layui-icon">&#xe67c;</i>上传图片
                  </button>
                </div>
              </div>

                <form class="layui-form layui-form-pane" lay-filter="myform">
                      <div class="layui-form-item">
                          <label for="url" class="layui-form-label">
                              <span class="x-red">*</span>文件路径
                          </label>
                          <div class="layui-input-block">
                              <input type="text" id="url" name="url" lay-verify="required"
                              autocomplete="off" class="layui-input " value="{$list.data.url|default=''}" placeholder="中文2-25个字符" disabled="true">
                          </div>
                      </div>
                      <div class="layui-form-item" style="text-align: right;">
                          <button  class="layui-btn" lay-filter="mysubmit" lay-submit="">
                              {$list.set.butname}
                          </button>
                      </div>
                  </form>




              </div>
            </div>
          </div>
        </div>
    </div> 


{/block}

{block name="myjs"}
<script>

layui.use('upload', function(){
  var upload = layui.upload;
   
  //执行实例
  var uploadInst = upload.render({
    elem: '#upload' //绑定元素
    ,url: "/renshi/teacher/upload" //上传接口
    ,done: function(res){
      if(res.val != 1){
        $('#url').val(res.url);
      }
      // layer.msg(res.msg);
    }
    ,data: {
      category: '1011103'
      ,serurl:'chengji'

    }
    ,acceptMime:'.xls,.xlsx'
    ,exts:'xls|xlsx'
    ,auto:true
    ,error: function(){
      //请求异常回调
    }
  });
});

</script>
{/block}

